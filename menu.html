<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Menu â€” La Dosha Hotel</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff8800">


  <!-- Favicon -->
  <link rel="icon" type="image/png" href="assets/images/ladoshalogo.png" />
  <link rel="shortcut icon" href="assets/images/ladoshalogo.png" type="image/png" />

  <style>
    body { font-family: sans-serif; background: #f9f9f9; margin:0; }
    .menu-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; margin: 20px 0; }
    .menu-item.card {
      border: 1px solid #ddd; border-radius: 10px; padding: 15px; text-align: center;
      background: #fff; transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .menu-item.card:hover { transform: translateY(-5px) scale(1.02); box-shadow: 0 6px 15px rgba(0,0,0,0.15); }
    .menu-item img { width: 100%; height: 160px; object-fit: cover; border-radius: 8px; }
    .menu-item h4 { margin: 10px 0 6px; font-size: 18px; }
    .menu-item .price { font-weight: bold; color: #ff8800; margin-bottom: 8px; }
    .btn { padding: 8px 14px; border: none; border-radius: 6px; cursor: pointer; text-decoration: none; text-align: center; font-size: 14px; }
    .btn.primary { background: #ff8800; color: #fff; font-weight: 600; }
    .btn.primary:hover { background: #e67600; }

    .category-bar { display:flex; gap:8px; margin:20px 0; flex-wrap:wrap; }
    .category-bar button { padding:6px 12px; border-radius:6px; border:none; cursor:pointer; background:#eee; font-weight:500; }
    .category-bar button.active { background:#ff8800; color:#fff; }

    #menu-search { width:100%; padding:10px; border-radius:6px; border:1px solid #ccc; margin-bottom:15px; }

    .toast { position: fixed; bottom: 30px; right: 20px; background: #222; color: #fff; padding: 12px 18px; border-radius: 8px; font-size: 15px; font-weight: 600; opacity: 0; transform: translateY(20px); pointer-events: none; transition: opacity 0.4s ease, transform 0.4s ease; z-index: 3000; }
    .toast.show { opacity: 1; transform: translateY(0); }
  </style>
</head>
<body>
<script>
// Load preloader
fetch("preloader.html")
  .then(r => r.text())
  .then(data => {
    document.body.insertAdjacentHTML("afterbegin", data);
    document.body.style.overflow = "hidden";
    window.addEventListener("load", () => {
      const pre = document.getElementById("preloader");
      if(pre){ pre.classList.add("fade-out"); setTimeout(()=>pre.remove(),600);}
      document.body.style.overflow="auto";
    });
    setTimeout(()=>{
      const pre=document.getElementById("preloader");
      if(pre){ pre.classList.add("fade-out"); setTimeout(()=>pre.remove(),600);}
      document.body.style.overflow="auto";
    },5000);
  });
</script>

<header class="site-header">
  <div class="container header-inner">
    <div class="logo"><a href="index.html"><img src="assets/images/ladoshalogo.png" alt="La Dosha Hotel Logo" style="height:50px; width:auto;" /></a></div>
    <button class="menu-toggle" aria-label="Toggle menu"><span></span><span></span><span></span></button>
    <nav class="main-nav" id="navMenu">
      <a href="index.html">Home</a>
      <a href="menu.html" class="active">Menu</a>
      <a href="explore.html">Explore</a>
      <a href="about.html">About</a>
      <a href="destinations.html">Destination</a>
    </nav>
  </div>
</header>

<a href="cart.html" class="cart-float">ðŸ›’ <span id="cart-count" class="cart-count">0</span></a>
<div id="toast" class="toast"></div>

<main class="container">
  <h1>Our Menu</h1>
  <p>Select your favorite meals and add them directly to your cart.</p>

  <input type="text" id="menu-search" placeholder="Search meals..." />

  <div class="category-bar">
    <button class="active" data-cat="all">All</button>
    <button data-cat="snacks">Snacks</button>
    <button data-cat="breakfast">Breakfast</button>
    <button data-cat="drinks">Drinks</button>
    <button data-cat="main">Main</button>
  </div>

  <div class="menu-grid" id="menu-container"></div>
</main>

<footer class="footer">â€¦</footer>

<script src="js/cart.js"></script>
<script>
const menuToggle = document.querySelector('.menu-toggle');
const navMenu = document.getElementById('navMenu');
menuToggle.addEventListener('click', () => navMenu.classList.toggle('active'));

const fullMenu = [
  {id:1,name:'Chips',price:100,img:'assets/images/chips.jpg',prep:'Fried golden chips',category:'snacks'},
  {id:2,name:'Chips Masala',price:130,img:'assets/images/chips_masala.jpg',prep:'Chips with spicy masala',category:'snacks'},
  {id:3,name:'Fried Eggs (pair)',price:60,img:'assets/images/fried_eggs.jpg',prep:'Two fried eggs',category:'breakfast'},
  {id:4,name:'Milk Tea',price:20,img:'assets/images/milk_tea.jpg',prep:'Hot milk tea',category:'drinks'},
  {id:5,name:'Chapati',price:30,img:'assets/images/chapati.jpg',prep:'Fresh chapati',category:'breakfast'},
  {id:6,name:'Mandazi',price:20,img:'assets/images/mandazi.jpg',prep:'Sweet mandazi',category:'snacks'},
  {id:7,name:'Githeri',price:50,img:'assets/images/githeri.jpg',prep:'Mixed maize and beans',category:'main'},
  {id:8,name:'Mukimo',price:100,img:'assets/images/mukimo.jpg',prep:'Traditional mashed veggies and maize',category:'main'}
];

const menuContainer = document.getElementById('menu-container');

function renderMenu(filter='all', search=''){
  menuContainer.innerHTML = '';
  const filtered = fullMenu.filter(m =>
    (filter === 'all' || m.category === filter) && m.name.toLowerCase().includes(search.toLowerCase())
  );

  filtered.forEach(m => {
    const card = document.createElement('div');
    card.className = 'menu-item card';
    card.innerHTML = `
      <img src="${m.img}" alt="${m.name}" />
      <h4>${m.name}</h4>
      <div class="price">KES ${m.price}</div>
      <div style="margin-top:6px">
        <input type="text" placeholder="Special instructions..." 
               onchange="this.closest('.menu-item.card').dataset.note=this.value"
               style="width:100%;padding:6px;border:1px solid #ccc;border-radius:6px;font-size:13px"/>
      </div>
      <button class="btn primary" onclick="
        addToCart(
          'meal-${m.id}',
          '${m.name}',
          ${m.price},
          1,
          {
            img:'${m.img}',
            note:this.closest('.menu-item.card').dataset.note || ''
          }
        )
      ">Add to Cart</button>
    `;
    menuContainer.appendChild(card);
  });
}

// Category filtering
document.querySelectorAll('.category-bar button').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.category-bar button').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    renderMenu(btn.dataset.cat, document.getElementById('menu-search').value);
  });
});

// Search functionality
document.getElementById('menu-search').addEventListener('input', e => {
  const activeCat = document.querySelector('.category-bar button.active').dataset.cat;
  renderMenu(activeCat, e.target.value);
});

// Initial render
renderMenu();
</script>

  <!-- Your other scripts -->
  <script src="js/cart.js"></script>

  <!-- Service Worker registration -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then(() => console.log('Service Worker registered'));
    }
  </script>
</body>
</html>

</body>
</html>
